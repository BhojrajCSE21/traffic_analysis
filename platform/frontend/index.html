<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Traffic Analytics Platform | AI-Powered Dataset Analysis</title>
    <meta
      name="description"
      content="Upload your traffic datasets and get instant ML-powered analysis, visualizations, and insights."
    />

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
      rel="stylesheet"
    />

    <!-- Icons -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />

    <!-- Plotly for charts -->
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>

    <!-- Styles -->
    <link rel="stylesheet" href="styles/main.css" />
  </head>
  <body>
    <!-- Animated Background -->
    <div class="bg-gradient"></div>
    <div class="bg-grid"></div>

    <!-- Navigation -->
    <nav class="navbar">
      <div class="nav-brand">
        <i class="fas fa-chart-line"></i>
        <span>Traffic Analytics</span>
      </div>
      <div class="nav-links">
        <a href="#upload" class="nav-link active">Upload</a>
        <a href="#dashboard" class="nav-link">Dashboard</a>
        <a href="#history" class="nav-link">History</a>
      </div>
    </nav>

    <!-- Main Content -->
    <main class="container">
      <!-- Hero Section -->
      <section class="hero">
        <div class="hero-content">
          <h1 class="hero-title">
            <span class="gradient-text">AI-Powered</span> Traffic Analytics
          </h1>
          <p class="hero-subtitle">
            Upload your datasets and get instant ML analysis with beautiful
            visualizations
          </p>
          <div class="hero-stats">
            <div class="stat-item">
              <span class="stat-value" id="stat-datasets">0</span>
              <span class="stat-label">Datasets</span>
            </div>
            <div class="stat-item">
              <span class="stat-value" id="stat-analyses">0</span>
              <span class="stat-label">Analyses</span>
            </div>
            <div class="stat-item">
              <span class="stat-value">4</span>
              <span class="stat-label">ML Models</span>
            </div>
          </div>
        </div>
      </section>

      <!-- Upload Section -->
      <section id="upload" class="section">
        <div class="section-header">
          <h2>Upload Dataset</h2>
          <p>Drag and drop your CSV or Excel file to start analysis</p>
        </div>

        <div class="upload-zone" id="upload-zone">
          <div class="upload-icon">
            <i class="fas fa-cloud-upload-alt"></i>
          </div>
          <div class="upload-text">
            <h3>Drop your file here</h3>
            <p>or <span class="upload-browse">browse</span> to choose</p>
          </div>
          <div class="upload-formats">
            <span class="format-badge">CSV</span>
            <span class="format-badge">XLSX</span>
            <span class="format-badge">XLS</span>
          </div>
          <input type="file" id="file-input" accept=".csv,.xlsx,.xls" multiple hidden />
        </div>

        <!-- Upload Progress -->
        <div class="upload-progress" id="upload-progress" hidden>
          <div class="progress-header">
            <span class="file-name" id="progress-filename">file.csv</span>
            <span class="progress-percent" id="progress-percent">0%</span>
          </div>
          <div class="progress-bar">
            <div class="progress-fill" id="progress-fill"></div>
          </div>
          <p class="progress-status" id="progress-status">Uploading...</p>
        </div>
      </section>

      <!-- Schema Confirmation Section -->
      <section id="schema-confirm" class="section" hidden>
        <div class="section-header">
          <h2><i class="fas fa-clipboard-check"></i> Review Your Data</h2>
          <p>We analyzed your file. Please confirm the detected schema before proceeding.</p>
        </div>

        <!-- Detection Summary -->
        <div class="confirm-card" id="detection-summary">
          <div class="detection-header">
            <span class="detection-icon" id="detection-icon">ðŸ“Š</span>
            <div class="detection-info">
              <h3 id="detected-type-name">Generic Dataset</h3>
              <p id="detected-type-desc">Analyzing as generic data</p>
            </div>
            <div class="confidence-badge" id="confidence-badge">
              <span class="confidence-value" id="confidence-value">85%</span>
              <span class="confidence-label">confidence</span>
            </div>
          </div>
        </div>

        <!-- Warnings -->
        <div class="warnings-card" id="warnings-card" hidden>
          <h4><i class="fas fa-exclamation-triangle"></i> Attention Required</h4>
          <ul class="warnings-list" id="warnings-list"></ul>
        </div>

        <!-- What We Found -->
        <div class="confirm-card">
          <h4><i class="fas fa-search"></i> What We Found</h4>
          <ul class="found-list" id="found-list"></ul>
        </div>

        <!-- What We'll Do -->
        <div class="confirm-card">
          <h4><i class="fas fa-cogs"></i> What We'll Analyze</h4>
          <ul class="analyze-list" id="analyze-list"></ul>
        </div>

        <!-- Column Mapping -->
        <div class="confirm-card">
          <h4><i class="fas fa-columns"></i> Detected Column Mappings</h4>
          <div class="mapping-grid" id="mapping-grid"></div>
        </div>

        <!-- Data Preview -->
        <div class="confirm-card">
          <h4><i class="fas fa-table"></i> Data Preview (First 5 Rows)</h4>
          <div class="preview-table-wrapper">
            <table class="preview-table" id="preview-table">
              <thead id="preview-head"></thead>
              <tbody id="preview-body"></tbody>
            </table>
          </div>
        </div>

        <!-- Action Buttons -->
        <div class="confirm-actions">
          <button class="btn btn-secondary" id="btn-cancel-confirm">
            <i class="fas fa-times"></i> Cancel & Re-upload
          </button>
          <button class="btn btn-primary" id="btn-proceed-analysis">
            <i class="fas fa-play"></i> Looks Good! Start Analysis
          </button>
        </div>
      </section>

      <!-- Analysis Section -->
      <section id="analysis" class="section" hidden>
        <div class="section-header">
          <h2>Analysis in Progress</h2>
          <p id="analysis-status">Processing your dataset...</p>
        </div>

        <div class="analysis-card">
          <div class="analysis-steps">
            <div class="step" data-step="validate">
              <div class="step-icon"><i class="fas fa-check-circle"></i></div>
              <div class="step-content">
                <span class="step-title">Data Validation</span>
                <span class="step-desc">Checking file format and schema</span>
              </div>
            </div>
            <div class="step" data-step="patterns">
              <div class="step-icon"><i class="fas fa-chart-bar"></i></div>
              <div class="step-content">
                <span class="step-title">Pattern Analysis</span>
                <span class="step-desc">Identifying trends and patterns</span>
              </div>
            </div>
            <div class="step" data-step="forecast">
              <div class="step-icon"><i class="fas fa-chart-line"></i></div>
              <div class="step-content">
                <span class="step-title">Forecasting</span>
                <span class="step-desc">Predicting future trends</span>
              </div>
            </div>
            <div class="step" data-step="anomaly">
              <div class="step-icon">
                <i class="fas fa-exclamation-triangle"></i>
              </div>
              <div class="step-content">
                <span class="step-title">Anomaly Detection</span>
                <span class="step-desc">Finding outliers and anomalies</span>
              </div>
            </div>
            <div class="step" data-step="charts">
              <div class="step-icon"><i class="fas fa-chart-pie"></i></div>
              <div class="step-content">
                <span class="step-title">Generating Charts</span>
                <span class="step-desc">Creating visualizations</span>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Dashboard Section -->
      <section id="dashboard" class="section" hidden>
        <div class="section-header">
          <h2>Analysis Results</h2>
          <div class="section-actions">
            <button class="btn btn-secondary" id="btn-export">
              <i class="fas fa-download"></i> Export Report
            </button>
            <button class="btn btn-primary" id="btn-new-analysis">
              <i class="fas fa-plus"></i> New Analysis
            </button>
          </div>
        </div>

        <!-- Summary Cards -->
        <div class="summary-grid" id="summary-cards">
          <!-- Populated by JS -->
        </div>

        <!-- Key Findings -->
        <div class="findings-card" id="findings-card">
          <h3><i class="fas fa-lightbulb"></i> Key Findings</h3>
          <ul class="findings-list" id="findings-list">
            <!-- Populated by JS -->
          </ul>
        </div>

        <!-- Recommendations -->
        <div class="recommendations-card" id="recommendations-card">
          <h3><i class="fas fa-clipboard-check"></i> Recommendations</h3>
          <ul class="recommendations-list" id="recommendations-list">
            <!-- Populated by JS -->
          </ul>
        </div>

        <!-- Charts Grid -->
        <div class="charts-grid" id="charts-container">
          <!-- Populated by JS -->
        </div>
      </section>

      <!-- History Section -->
      <section id="history" class="section">
        <div class="section-header">
          <h2>Analysis History</h2>
          <p>View your previous analyses</p>
        </div>

        <div class="history-list" id="history-list">
          <div class="history-empty">
            <i class="fas fa-folder-open"></i>
            <p>No analyses yet. Upload a dataset to get started!</p>
          </div>
        </div>
      </section>
    </main>

    <!-- Toast Notifications -->
    <div class="toast-container" id="toast-container"></div>

    <!-- Scripts -->
    <script src="js/app.js"></script>
  </body>
</html>
